@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── DESIGN SYSTEM ──────────────────────────────────────────────
   Orbital Interface — High-Tech Brutalist Design System
   Philosophy: Engineered precision · High contrast · Raw function
   ─────────────────────────────────────────────────────────────── */

@layer base {
  :root {
    /* ── Dark Theme (Default) ─────────────────────────────────── */
    --background: 240 10% 4%; /* Near-black */
    --foreground: 240 7%, 93%; /* Off-white */

    /* ── Surfaces ────────────────────────────────────────────── */
    --card: 240 8% 8%; /* Dark gray */
    --card-foreground: 240 7% 93%;
    --popover: 240 8% 8%;
    --popover-foreground: 240 7% 93%;

    /* ── Primary (Acid Green) ── */
    --primary: 74 100% 50%; /* #CCFF00 */
    --primary-foreground: 240 10% 4%; /* Near-black for text on primary */

    /* ── Secondary (Electric Blue) ── */
    --secondary: 210 100% 56%;
    --secondary-foreground: 0 0% 100%;

    /* ── Muted ── */
    --muted: 240 6% 12%;
    --muted-foreground: 240 5% 64%;

    /* ── Accent (Interface Glow) ── */
    --accent: 240 6% 16%;
    --accent-foreground: 240 7% 93%;

    /* ── Destructive (Alert Orange) ── */
    --destructive: 24 95% 53%;
    --destructive-foreground: 0 0% 100%;

    /* ── Chrome ── */
    --border: 240 5% 20%;
    --input: 240 5% 16%;
    --ring: 74 100% 50%; /* Acid Green for focus */
    --radius: 0.125rem; /* Sharp corners */
  }

  /* Note: Light theme is not part of this redesign, but a placeholder can be added if needed. */
  .light {
    --background: 240 7% 93%;
    --foreground: 240 10% 4%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 4%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 4%;
    --primary: 74 100% 45%;
    --primary-foreground: 0 0% 100%;
    --secondary: 240 5% 96%;
    --secondary-foreground: 240 5% 24%;
    --muted: 240 5% 96%;
    --muted-foreground: 240 3% 45%;
    --accent: 240 5% 96%;
    --accent-foreground: 240 5% 24%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 240 5% 85%;
    --input: 240 5% 85%;
    --ring: 74 100% 45%;
  }
}

/* ─── BASE RESETS ─────────────────────────────────────────────── */
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans), "Outfit", sans-serif;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-display), "Space Grotesk", monospace;
    @apply font-bold tracking-wider uppercase text-primary;
  }
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }
}

/* ─── GLOBAL COMPONENT UTILITIES ──────────────────────────────── */
@layer components {
  /* ── Technical Grid Background ── */
  .bg-grid {
    background-image: linear-gradient(
        0deg,
        hsl(var(--border) / 0.2) 1px,
        transparent 1px
      ),
      linear-gradient(
        90deg,
        hsl(var(--border) / 0.2) 1px,
        transparent 1px
      );
    background-size: 32px 32px;
  }
  .bg-dot-grid {
    background-image: radial-gradient(
      circle at 1px 1px,
      hsl(var(--border) / 0.5) 1px,
      transparent 0
    );
    background-size: 24px 24px;
  }

  /* ── Terminal-style Panels ── */
  .panel-base {
    @apply bg-card border border-border rounded-sm;
  }
  .panel-interactive {
    @apply panel-base transition-colors duration-200 hover:bg-accent hover:border-primary/50;
  }
  .panel-inset {
    @apply bg-background border border-border rounded-sm shadow-[inset_0_1px_4px_hsl(var(--background)/0.9)];
  }

  /* ── Primary Button (Brutalist) ── */
  .btn-primary-brutalist {
    @apply bg-primary text-primary-foreground font-bold uppercase tracking-wider px-6 py-2 rounded-sm border-2 border-primary transition-all duration-200;
    @apply hover:bg-transparent hover:text-primary;
    @apply active:translate-x-[2px] active:translate-y-[2px];
    box-shadow: 2px 2px 0px hsl(var(--primary));
  }
  .btn-primary-brutalist:hover {
    box-shadow: 0px 0px 0px hsl(var(--primary));
  }
  .btn-secondary-brutalist {
    @apply bg-transparent text-muted-foreground font-semibold px-4 py-2 rounded-sm border border-border transition-all duration-200 hover:border-primary hover:text-primary;
  }

  /* ── UI Accents ── */
  .text-glow-primary {
    text-shadow: 0 0 8px hsl(var(--primary) / 0.5);
  }
  .text-glow-secondary {
    text-shadow: 0 0 8px hsl(var(--secondary) / 0.5);
  }

  /* Custom scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 0;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary));
  }
}

/* ─── ANIMATION UTILITIES ─────────────────────────────────────── */
@layer utilities {
  /* Fast, snappy transitions */
  .animate-in {
    animation-duration: 0.2s;
    animation-timing-function: ease-out;
    animation-fill-mode: forwards;
  }
  .stagger-1 {
    animation-delay: 0.02s;
  }
  .stagger-2 {
    animation-delay: 0.04s;
  }
  .stagger-3 {
    animation-delay: 0.06s;
  }

  /* Scanline effect */
  @keyframes scanline {
    0% {
      transform: translateY(-10%);
    }
    100% {
      transform: translateY(110%);
    }
  }
  .has-scanline {
    position: relative;
    overflow: hidden;
  }
  .has-scanline::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 10px;
    background: hsl(var(--primary) / 0.1);
    animation: scanline 4s linear infinite;
    opacity: 0.5;
    pointer-events: none;
    filter: blur(2px);
  }
}

/* ─── SELECTION ───────────────────────────────────────────────── */
::selection {
  background: hsl(var(--primary) / 0.25);
  color: hsl(var(--foreground));
}

/* ─── REDUCED MOTION ──────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    transition-delay: 0ms !important;
    scroll-behavior: auto !important;
  }

  :focus-visible {
    transition: none !important;
  }
}

/* ─── CLERK OVERRIDE ──────────────────────────────────────────── */
.cl-internal-b3fm6y {
  display: none;
}
